Git Scenario
===

## 合併

### 當你的開發分支要合併到主分支時候，被要求不能讓主分支直接fast-forward要怎麼做？

使用 non-fast-forward 方式合併，優點是可以明確看出拉出去的分支歷程

### 當你的開發分支要合併到主分支之前，需要注意什麼？

需注意主分支是否有更新，如有，應先在開發分支上合併主分支，意即讓開發分支上的更新是基於主分支的更新之上，確保兩者不會衝突之後，再於主分支上合併回分支更新的部分。

## 修正

### 你已經commit了三個節點，但你事後想要把它改成一個節點，可以怎麼做？

在 push 上去遠端數據儲存庫之前，可以透過 reset 或 rebase -i 來處理。採用 rebase -i 的方式處理，可以將選定    commits 捏合，但使用 rebase -i 的方式有缺點，就是不會產生新的節點，而是捏成一起一個 commit。

### 當你今天提交一個節點，事後發現有問題需要退回前一個節點，可以怎麼做？

版本控管 的基本概念是向前行，不太會有走回路的狀況；因此當過往某節點有錯誤要修正時，不適合以「刪除」該節點的方式處理（易造成很大的問題），較佳的處理方式是以 "revert" 功能來處理。revert 的優點在於透過新增一個 commit 來編修、取消另一個 commit 的內容，又能達到「保留先前的 commit 記錄」，適用於不允許使用 reset 或 rebase 來編修先前 commit 記錄的情境

## 其他

### 開發分支進行中，突然被告知主分支有錯誤要緊急處理，這時該怎辦？

可以使用 git stash 先暫存手上進行的事，再於主分支加開 hotFix 分支處理緊急錯誤，待 hotFix 處理完問題合併入主分支後，再 checkout 到開發分支，視 stash 及 hotfix 的狀況來決定如何處理：
- 若 hotfix 沒什麼衝突、影響：先合併 hotfix 後再處理 stash
- 若 stash 已經有不低的完成度：繼續完成 stash 再合併 hotfix

### 當你經過一頓複雜操作時，發現自己本來辛苦弄的節點不小心消失了，這時該怎辦？

前提是曾經有 commit 記錄的，可以透過 git reflog 的功能來回溯，git reflog 會顯示每個 commit 過的指令的詳細資料和 commit id，找出想復原的 commit id 後，執行 git reset commitId --hard 回到該版本。
